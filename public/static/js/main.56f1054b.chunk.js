(this["webpackJsonpmovie-picker"]=this["webpackJsonpmovie-picker"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(23)},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(3),o=n.n(i),s=(n(15),n(2)),c=n.n(s),l=n(4),d=n(6),g=n(7),u=n(1),m=n(9),h=n(8),v=(n(17),n(18),function(e){return r.a.createElement("header",{className:"header"},r.a.createElement("h2",{onClick:e.resetMovieHandler,className:"logo"},"Movie Picker"))}),p=(n(19),function(e){var t=e.isLoading,n=e.searchMovieHandler,a=e.toggleModalHandler;return r.a.createElement("div",{className:"hero"},r.a.createElement("h1",{className:"hero__title"},"Never waste hours to find the perfect movie again!"),t?"LOADING....":r.a.createElement("button",{onClick:n,className:"btn--call-to-action"},"Pick a Movie"),r.a.createElement("button",{onClick:a,className:"btn--configuration btn-open-filters"},"Configure Filters"))}),f=(n(20),function(e){var t=e.movie;return r.a.createElement("div",{className:"Movie"},r.a.createElement("img",{className:"Movie__poster",src:t.posterUrl?t.posterUrl:"https://vignette.wikia.nocookie.net/houseki-no-kuni/images/3/3b/Missingimage.png/revision/latest?cb=20190328111547&path-prefix=ru",alt:"Poster"}),r.a.createElement("div",{className:"Movie__content"},r.a.createElement("h2",{className:"Movie__content__title"},t.nameRu," (",t.year,")"),r.a.createElement("ul",{className:"Movie__content__header"},r.a.createElement("li",{className:"Movie__rating Movie__content__header__el"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433: ",t.rating),r.a.createElement("li",{className:"Movie__content__header__el"},"\u0425\u0440\u043e\u043d\u043e\u043c\u0435\u0442\u0440\u0430\u0436: ",t.filmLength),r.a.createElement("li",{className:"Movie__content__header__el"},"\u0416\u0430\u043d\u0440\u044b: ",t.genres.map((function(e){return"".concat(e.genre,", ")})))),r.a.createElement("p",{className:"Movie__content__description"},t.description),r.a.createElement("a",{className:"Movie__btn btn--call-to-action",href:t.webUrl},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043d\u0430 \u041a\u0438\u043d\u043e\u043f\u043e\u0438\u0441\u043a\u0435")))}),_=(n(21),function(e){var t=e.show,n=e.children,a=e.toggleHandler,i=e.className;return o.a.createPortal(t?[r.a.createElement("div",{className:"Modal ".concat(i),key:"1"},n),r.a.createElement("div",{className:"backdrop",key:"2",onClick:a})]:"",document.getElementById("modal-root"))}),M=(n(22),function(e){var t=e.options,n=e.onChange,a=e.filter;return r.a.createElement("select",{onChange:n,className:"Genres-list"},r.a.createElement("option",{value:"0","data-set":!0},"\u041b\u044e\u0431\u043e\u0439"),t.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id,className:"Genres-list__item"},"".concat(e[a]," "))})))}),E=[{id:1750,genre:"\u0430\u043d\u0438\u043c\u0435"},{id:22,genre:"\u0431\u0438\u043e\u0433\u0440\u0430\u0444\u0438\u044f"},{id:3,genre:"\u0431\u043e\u0435\u0432\u0438\u043a"},{id:13,genre:"\u0432\u0435\u0441\u0442\u0435\u0440\u043d"},{id:19,genre:"\u0432\u043e\u0435\u043d\u043d\u044b\u0439"},{id:17,genre:"\u0434\u0435\u0442\u0435\u043a\u0442\u0438\u0432"},{id:456,genre:"\u0434\u0435\u0442\u0441\u043a\u0438\u0439",pages:2},{id:20,genre:"\u0434\u043b\u044f \u0432\u0437\u0440\u043e\u0441\u043b\u044b\u0445",pages:2},{id:12,genre:"\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0439"},{id:8,genre:"\u0434\u0440\u0430\u043c\u0430"},{id:23,genre:"\u0438\u0441\u0442\u043e\u0440\u0438\u044f"},{id:6,genre:"\u043a\u043e\u043c\u0435\u0434\u0438\u044f"},{id:15,genre:"\u043a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0430"},{id:16,genre:"\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"},{id:7,genre:"\u043c\u0435\u043b\u043e\u0434\u0440\u0430\u043c\u0430"},{id:21,genre:"\u043c\u0443\u0437\u044b\u043a\u0430"},{id:14,genre:"\u043c\u0443\u043b\u044c\u0442\u0444\u0438\u043b\u044c\u043c"},{id:9,genre:"\u043c\u044e\u0437\u0438\u043a\u043b"},{id:10,genre:"\u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"},{id:11,genre:"\u0441\u0435\u043c\u0435\u0439\u043d\u044b\u0439"},{id:24,genre:"\u0441\u043f\u043e\u0440\u0442"},{id:4,genre:"\u0442\u0440\u0438\u043b\u043b\u0435\u0440"},{id:1,genre:"\u0443\u0436\u0430\u0441\u044b"},{id:2,genre:"\u0444\u0430\u043d\u0442\u0430\u0441\u0442\u0438\u043a\u0430"},{id:18,genre:"\u0444\u0438\u043b\u044c\u043c-\u043d\u0443\u0430\u0440",pages:4},{id:5,genre:"\u0444\u044d\u043d\u0442\u0435\u0437\u0438"}],b="".concat(window.location.origin,"/api"),k=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={movie:null,isLoading:!1,hasErrors:!1,showModal:!1,options:{genre:0}},a.searchMovieHandler=a.searchMovieHandler.bind(Object(u.a)(a)),a.resetMovieHandler=a.resetMovieHandler.bind(Object(u.a)(a)),a.toggleModalHandler=a.toggleModalHandler.bind(Object(u.a)(a)),a.selectGenreHandler=a.selectGenreHandler.bind(Object(u.a)(a)),a}return Object(g.a)(n,[{key:"toggleModalHandler",value:function(){this.setState({showModal:!this.state.showModal})}},{key:"resetMovieHandler",value:function(){this.setState({movie:null})}},{key:"searchMovieHandler",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,this.getData();case 4:t=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),this.setState({isLoading:!1,hasErrors:!0}),e.abrupt("return");case 11:this.setState({isLoading:!1,movie:t});case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.options.genre,e.next=3,fetch("".concat(b,"/films/").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return(a=e.sent).data.rating=a.rating,e.abrupt("return",a.data);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"selectGenreHandler",value:function(e){var t=e.target.value;this.setState({options:{genre:t}})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v,{resetMovieHandler:this.resetMovieHandler}),this.state.movie?r.a.createElement(f,{movie:this.state.movie}):r.a.createElement(p,{searchMovieHandler:this.searchMovieHandler,toggleModalHandler:this.toggleModalHandler,isLoading:this.state.isLoading}),this.state.hasErrors?"Network Error":"",r.a.createElement(_,{className:"Preferences-modal",show:this.state.showModal,toggleHandler:this.toggleModalHandler},r.a.createElement("h3",null,"Preferences"),r.a.createElement("label",null,"\u0416\u0430\u043d\u0440:"),r.a.createElement(M,{onChange:this.selectGenreHandler,options:E,filter:"genre"}),r.a.createElement("button",{onClick:this.toggleModalHandler},"Apply")))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.56f1054b.chunk.js.map